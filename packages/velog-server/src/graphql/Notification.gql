type Notification {
  id: ID!
  type: NotificationType!
  fk_user_id: String!
  action: NotificationAction!
  action_id: ID
  is_read: Boolean!
  is_deleted: Boolean!
  created_at: Date!
}

enum NotificationType {
  follower
  comment
  postLike
}

union NotificationAction =
    FollowerNotificationAction
  | CommentNotificationAction
  | PostLikeNotificationAction

type FollowerNotificationAction {
  id: ID!
  fk_user_id: String!
  display_name: String!
}

type CommentNotificationAction {
  id: ID!
  fk_user_id: String!
  title: String!
  url_slug: String!
  writer_username: String!
  text: String!
}

type PostLikeNotificationAction {
  id: ID!
  fk_user_id: String!
  display_name: String!
  title: String!
  url_slug: String!
  writer_username: String!
}

type Query {
  notifications: [Notification!]!
  notificationCount: Int!
}

type Mutation {
  createNofication(input: CreateNotificationInput!): Notification!
  readNotification(input: ReadNotificationInput!): Void
}

input CreateNotificationInput {
  type: NotificationType!
  link: String
  fk_user_id: String!
  action: NotificationActionInput!
  action_id: String!
}

input NotificationActionInput {
  follower: FollowerNotificationActionInput
  comment: CommentNotificationActionInput
  postLike: PostLikeNotificationActionInput
}

input FollowerNotificationActionInput {
  id: ID!
  fk_user_id: String!
  display_name: String!
}

input CommentNotificationActionInput {
  id: ID!
  fk_user_id: String!
  title: String!
  url_slug: String!
  writer_username: String!
  text: String!
}

input PostLikeNotificationActionInput {
  id: ID!
  fk_user_id: String!
  display_name: String!
  title: String!
  url_slug: String!
  writer_username: String!
}

input ReadNotificationInput {
  notification_ids: [String!]!
}
